{% extends 'quiz/new_update_quiz_common.html' %}
{% load static %}

{% block content %}
<div class="container">

    <form action='{% url "quiz-update" quiz.id %}' method='post' class="quiz-form">
        {% csrf_token %}

        {% include 'quiz/settings_modal.html' %}

        <div class="heading">
            <input type='text' class="heading__text" name='quiz' required autofocus value={{quiz.name}}>
        </div>

        {% for question in quiz.question_set.all %}

        <div class="quiz-form__quiz">
            <label for="q_{{forloop.counter}}">{{forloop.counter}}.</label>
            <input type="text" name="q_{{forloop.counter}}" id="q_{{forloop.counter}}" class="quiz-form__question"
                required value='{{question.question}}''>

            {% for choice in question.choice_set.all %}

            <div class="quiz-form__ans">
                <input type="radio" required name='{{question.id}}_radio_option' value='{{forloop.counter}}'       
                {% if question.answer.answer == forloop.counter %} checked {% endif %}>
            <span class="design"></span>
            <input type="text" required name="{{question.id}}_option{{forloop.counter}}" value='{{choice.choice}}'>
            </div>

        {% endfor %}

            <div class="footer">
                <div class="point">
                    <input type="number" name="{{forloop.counter}}_point" value='{{question.point}}' min=0 required>
                    <span>points</span>
                </div>
                <button type="button" class='duplicateBtn'>Duplicate</button>
            </div>
        </div>

    {% endfor %}
        <button type='submit' id='submit' hidden></button>
    </form>
</div>

<script src="{% static 'quiz/quiz_update.js' %}"></script>

{% endblock content %}
