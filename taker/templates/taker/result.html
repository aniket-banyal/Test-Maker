<!-- Copied from  - https://codepen.io/hrsshainik/pen/rNxLKgv -->
{% load static %}

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap">

<link rel="stylesheet" href="{% static 'taker/result.css' %}">

<div class="container">
    <div class="heading">
        <h1 class="heading__text">{{quiz.name}}</h1>
    </div>

    <div class="quiz">
        <div class="quiz__heading">
            <h2 class="quiz__heading-text">
                Score: {{score}}
            </h2>
        </div>

        <form class="quiz-form">

            {% for question in quiz.question_set.all %}

            <div class="quiz-form__quiz">
                <div class="question">
                    <p class="quiz-form__question">{{question.question}}</p>
                    <div class="point">
                        <p>{{question.point}}</p>
                        {% if question.point == 1 %}
                            <span>point</span>
                        {% else %}
                            <span>points</span>
                        {% endif %}
                    </div>
                </div>

                {% for choice in question.choice_set.all %}
                {% for answer in user.answer_set.all %}
                {%if answer.real_answer.id == question.answer.id%}

                <label class="quiz-form__ans {% if answer.answer == forloop.parentloop.counter %}
                    {% if answer.answer == answer.real_answer.answer %}
                    correct 
                    {% else %}
                    wrong
                    {% endif %}
                {% endif %}
                
                {% if answer.real_answer.answer == forloop.parentloop.counter %}
                    {% if answer.answer != answer.real_answer.answer %}
                    real-correct 
                    {% endif %}
                {% endif %}"
                for="{{question.id}}_choice{{ forloop.counter }}">
                    <input type="radio" {% if answer.answer == forloop.parentloop.counter %} checked {% endif %} readonly>
                    <span class="design"></span>
                    <span class="text">{{choice.choice}}</span>
                    <span class='result'>
                        {% if answer.answer == forloop.parentloop.counter %}
                        {% if answer.answer == answer.real_answer.answer %}
                        âœ“
                        {% else %}
                        X
                        {% endif %}
                        {% endif %}

                        {% if answer.real_answer.answer == forloop.parentloop.counter %}
                        {% if answer.answer != answer.real_answer.answer %}
                        Correct Answer 
                        {% endif %}
                        {% endif %}
                    </span>
                </label>
                {%endif%}

                {% endfor %}
                {% endfor %}

            </div>

            {% endfor %}

        </form>

    </div>
</div>