{% load static %}
<!-- {% load taker_extras %} -->

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap">

<link rel="stylesheet" href="{% static 'taker/take_quiz.css' %}">

<header>
    <button id='timeLimit' data-endDateTime='{{endDateTime}}'></button>
</header>

<footer>
    <button type='submit' id='submit' class="btns"> Submit </button>
</footer>

<div class="container">
    <div class="heading">
        <h1 class="heading__text">{{quiz.name}}</h1>
    </div>

    <div class="quiz">

        <form action="{% url 'submit-quiz' quiz.id taker_id%}" method='POST' class="quiz-form">
            <button type='submit' id='hiddenSubmit' hidden></button>
            {%csrf_token%}

            {% for question in quiz.question_set.all %}

            <div class="question">
                <div class="questionHeader">
                    <p class="quiz-form__question">{{question.question}}</p>
                    <div class="point">
                        <p>{{question.point}}</p>
                        {% if question.point == 1 %}
                        <span>point</span>
                        {% else %}
                        <span>points</span>
                        {% endif %}
                    </div>
                </div>

                {% for choice in question.choice_set.all %}
                <label class="quiz-form__ans" for="{{forloop.parentloop.counter}}_choice{{ forloop.counter }}">

                    {% if question.type == 'mcq' %}
                    <input type="radio" id="{{forloop.parentloop.counter}}_choice{{ forloop.counter }}" required
                        name='{{forloop.parentloop.counter}}_radio_option' value='{{forloop.counter}}'>
                    <span class="design"></span>

                    {% elif question.type == 'checkbox' %}
                    <input type="checkbox" id="{{forloop.parentloop.counter}}_choice{{ forloop.counter }}"
                        name='{{forloop.parentloop.counter}}_checkbox_{{forloop.counter}}'>

                    {% endif %}

                    <span class="text">{{choice.choice}}</span>
                </label>

                {% endfor %}

            </div>

            {% endfor %}

        </form>

    </div>
</div>

<script src="{% static 'taker/take_quiz.js' %}"></script>